define(["jquery","jquery-ui","chained","metisMenu","Morris","datatables","bootstrap","datatables-bootstrap","datetimepicker","highcharts","html2canvas","canvg","rgbcolor","html2canvassvg","select2"],function(a,b){return{baseUrl:a("#root_base_url").val(),adminUrl:a("#admin_url").val(),overlayUI:a("#cover"),reportType:a("#report_type").val(),pdfTitle:"PDF export",exportFileName:"DataTable export",captureImageData:"",init:function(){a("#menu_id").chained("#category_id"),a("select.select2").select2(),App.overlayUI.hide(),App.initFunc(App),a("#side-menu").metisMenu(),a("#single_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#month_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM"}),a(document).on("click","#capture_chart",function(){App.captureImage(a(this).attr("target_capture"),"#image_data"),a("#report_export_pdf").show()}),setTimeout(function(){a("#sales_by_day_chart").length>0&&(sales_by_day_chart=a("#sales_by_day_chart").highcharts({chart:{type:"column"},credits:{enabled:!1},title:{text:"Grafik Sales By Day Report"},xAxis:{categories:sales_by_day_categories_data,crosshair:!0,labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},tooltip:{valueDecimals:0,valuePrefix:"Rp. "},yAxis:{title:{text:"Jumlah Revenue"}},legend:{enabled:!1},series:[{name:"Revenue",data:sales_by_day_series_data}]})),a("#sales_by_department_category_chart").length>0&&(sales_by_department_category_chart=a("#sales_by_department_category_chart").highcharts({chart:{type:"column"},credits:{enabled:!1},title:{text:"Grafik Column Sales By Department / Category"},xAxis:{categories:sales_by_department_category_categories_data,crosshair:!0,labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},tooltip:{valueDecimals:0,valuePrefix:"Rp. "},yAxis:{title:{text:"Jumlah Revenue"}},legend:{enabled:!1},series:[{name:"Revenue",data:sales_by_department_category_series_data}]}),a("#sales_by_department_category_chart_pie").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Grafik Pie Sales By Department / Category"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:"Persentase",colorByPoint:!0,data:sales_by_department_category_series_data_pie}]})),a("#sales_by_waiter_chart").length>0&&(sales_by_waiter_chart=a("#sales_by_waiter_chart").highcharts({chart:{type:"column"},credits:{enabled:!1},title:{text:"Grafik Column Sales By Waiter"},xAxis:{categories:sales_by_waiter_categories_data,crosshair:!0,labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif"}}},tooltip:{valueDecimals:0,valuePrefix:"Rp. "},yAxis:{title:{text:"Jumlah Revenue"}},legend:{enabled:!1},series:[{name:"Revenue",data:sales_by_waiter_series_data}]}),a("#sales_by_waiter_chart_pie").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Grafik Pie Sales By Waiter"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:"Persentase",colorByPoint:!0,data:sales_by_waiter_series_data_pie}]})),a("#inventory_used_detail_chart_pie").length>0&&a("#inventory_used_detail_chart_pie").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Grafik Pie Inventory Used Detail"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:"Persentase",colorByPoint:!0,data:inventory_used_detail_series_data_pie}]})},1e3),a("#filter_inventory_used,#export_inventory_used").click(function(){a("#inventory_id").val(""),a("#form_inventory_used").removeAttr("target")}),a(".get_detail_inventory_used").click(function(){inventory_id=a(this).attr("inventory_id"),a("#inventory_id").val(inventory_id),a("#form_inventory_used").attr("target","_blank"),a("#form_inventory_used").submit()}),a("#start_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD HH:mm"}),a("#end_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD HH:mm"}),a("#start_date").on("dp.change",function(b){a("#end_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD HH:mm"}),a("#end_date").data("DateTimePicker").minDate(b.date)}),a("#input_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#report_end_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#input_date").on("dp.change",function(b){a("#report_end_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#report_end_date").data("DateTimePicker").minDate(b.date)}),a("#end_date").on("dp.change",function(b){a("#end_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD HH:mm"}),a("#start_date").data("DateTimePicker").maxDate(b.date)}),a("#purchase_order_date").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a(".date-input").val(""),a(".def-select").val("0"),"open_close"==App.reportType?App.openCloseUI():"transaction"==App.reportType?App.transactionUI():"transaction_detail"==App.reportType?App.transactionDetailUI():"sales_menu"==App.reportType?App.salesMenuUI():"moving_item"==App.reportType?App.salesMovingItem():"sales_menu_detail"==App.reportType?App.salesMenuDetail():"profit_loss"==App.reportType?App.profitLossUI():"sales_category"==App.reportType?App.salesCategoryUI():"sales_outlet"==App.reportType?App.salesOutletUI():"void"==App.reportType?App.voidUI():"sos"==App.reportType?App.sosUI():"inventory_stock"==App.reportType||"inventory_stock_detail"==App.reportType?App.inventoryStockReportUI():"total_sales_waiter"==App.reportType?App.totalSalesWaiterUI():"total_sales_waiter_detail"==App.reportType?App.totalSalesWaiterDetailUI():"total_quantity_order_table_waiter"==App.reportType?App.totalQtyOrderTableWaiter():"achievement_waiter"==App.reportType?App.achievementWaiter():"achievement_waiter_detail"==App.reportType?App.achievementWaiterDetail():"kitchen_duration"==App.reportType?App.kitchenDurationUI():"inventory_adjustment"==App.reportType?App.inventoryAdjustment():"refund"==App.reportType?App.refund():"petty_cash"==App.reportType?App.pettyCash():"side_dish"==App.reportType?App.sidedish():"delete_order"==App.reportType?App.deleteOrder():"summary_year"==App.reportType?App.summaryYear():"taxes"==App.reportType?App.taxesYear():"summary_inventory"==App.reportType?App.summaryInventory():"detail_inventory"==App.reportType?App.detailInventory():"summary_receive_order"==App.reportType?App.summaryReceiveOrder():"summary_retur_order"==App.reportType?App.summaryReturOrder():"member_transaction"==App.reportType?App.memberTransaction():"voucher_used"==App.reportType?App.voucherUsed():"promo_used"==App.reportType?App.promoUsed():"promo_cc"==App.reportType?App.promoCc():"bon_bill"==App.reportType?App.bonBill():"pending_bill"==App.reportType?App.pendingBill():"compliment"==App.reportType?App.compliment():"spoiled"==App.reportType?App.spoiled():"cost_opname"==App.reportType?App.costOpnameUI():"transfer_menu"==App.reportType?App.transferMenu():"transfer_inventory"==App.reportType?App.transferinventory():"aging_data"==App.reportType?App.AgingData():"price_analyst"==App.reportType?App.PriceAnalystUI():"data_inventory"==App.reportType?App.InventoryList():"kontra_bon"==App.reportType?App.kontraBon():"member_discount_detail"==App.reportType?App.memberDiscountDetail():"delivery_service"==App.reportType&&App.deliveryService()},spoiled:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_spoiled_data",data:{inventory_id:a("#formFilter #inventory_id").val(),outlet_id:a("#formFilter #outlet_id").val(),start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},sosUI:function(){a("#user_id").chained("#store_id"),a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-sos").dataTable({bProcessing:!0,sServerMethod:"POST",bFilter:!0,bDestroy:!0,autoWidth:!0,scrollX:!0,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),b.data}},columns:[{data:"no_bill"},{data:"qty"},{data:"gross"},{data:"nett"},{data:"tax"},{data:"net_tax"},{data:"cost"}]})}),a("#export_pdf").on("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},costOpnameUI:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_cost_opname",data:{inventory_id:a("#formFilter #inventory_id").val(),start_date:a("#formFilter #input_start_date").val(),end_date:a("#formFilter #input_end_date").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},compliment:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_compliment_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},bonBill:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_bon_bill_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},pendingBill:function(){var b=a("#pending_type").val();a("#filter_submit").on("click",function(c){a("#report_content").html(""),c.preventDefault();var d=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_pending_bill_data/"+b,data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});d.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(c){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf/"+b)})},promoUsed:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_promo_used_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},promoCc:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_promo_cc_data",data:{start_date:a("#input_start_date").val(),end_date:a("#input_end_date").val(),promo_cc_id:a("#promo_cc_name").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},voucherUsed:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_voucher_used_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},memberTransaction:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_member_transaction_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val(),member_id:a("#formFilter #member_id").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},summaryReceiveOrder:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_summary_receive_order_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val(),supplier_id:a("#formFilter #supplier_id").val(),store_id:a("#formFilter #store_id").val(),payment_method:a("#formFilter #payment_method").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},summaryReturOrder:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_summary_retur_order_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val(),supplier_id:a("#formFilter #supplier_id").val(),store_id:a("#formFilter #store_id").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},summaryInventory:function(){a("#start_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#end_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_summary_inventory_data",data:{start_period:a("#formFilter #start_period").val(),end_period:a("#formFilter #end_period").val(),outlet_id:a("#formFilter #outlet_id").val(),inventory_id:a("#formFilter #inventory_id").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show(),a("#export_xls").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")}),a("#export_xls").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_xls")})},detailInventory:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_detail_inventory_data",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val(),outlet_id:a("#formFilter #outlet_id").val(),inventory_id:a("#formFilter #inventory_id").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},taxesYear:function(){a("#start_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#end_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_taxes_year_data",data:{start_date:a("#formFilter #input_start_date").val(),end_date:a("#formFilter #input_end_date").val(),tax_name:a("#formFilter #filter_taxes").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},AgingData:function(b){a("#table-aging-data").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"name"},{data:"total_payment"},{data:"due_1"},{data:"due_2"},{data:"due_3"},{data:"due_4"}],columnDefs:[{targets:[1,2,3,4,5],orderable:!0,bSearchable:!1},{targets:[0],orderable:!0,bSearchable:!0}],order:[[0,"asc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-aging-data").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"name"},{data:"total_payment"},{data:"due_1"},{data:"due_2"},{data:"due_3"},{data:"due_4"}],columnDefs:[{targets:[1,2,3,4,5],orderable:!0,bSearchable:!1},{targets:[0],orderable:!0,bSearchable:!0}],order:[[0,"asc"]]})}),a("#export_pdf").on("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},PriceAnalystUI:function(b){a("#category_menu_id").chained("#outlet_id");a("#table-price-analyst").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"ctgname"},{data:"menu_name"},{data:"menu_price"},{data:"menu_hpp"},{data:"gross"},{data:"margin"},{data:"markup"}],columnDefs:[{targets:[5,6],orderable:!1,bSearchable:!1}],order:[[0,"asc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-price-analyst").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),b.data}},columns:[{data:"ctgname"},{data:"menu_name"},{data:"menu_price"},{data:"menu_hpp"},{data:"gross"},{data:"margin"},{data:"markup"}],columnDefs:[{targets:[5,6],orderable:!1,bSearchable:!1}],order:[[0,"asc"]]});a("#export_pdf").show(),a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},InventoryList:function(){a("#table-inventory-data").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},iDisplayLength:10,columns:[{data:"name"},{data:"on_hand"},{data:"total_value"},{data:"average_cost"},{data:"current_price"}],columnDefs:[{targets:0,orderable:!0,bSearchable:!0},{targets:[1,2,3,4],orderable:!0,bSearchable:!1}],order:[[0,"asc"]]}),a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-inventory-data").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"name"},{data:"on_hand"},{data:"total_value"},{data:"average_cost"},{data:"current_price"}],columnDefs:[{targets:0,orderable:!0,bSearchable:!0},{targets:[1,2,3,4],orderable:!0,bSearchable:!1}],order:[[0,"asc"]]})})},summaryYear:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_summary_year_data",data:{year:a("#formFilter #filter_year").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},deleteOrder:function(){a("#dataTables-delete-order").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"created_at"},{data:"name"},{data:"actions"}],columnDefs:[{targets:2,orderable:!1,bSearchable:!1}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#dataTables-delete-order").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"created_at"},{data:"name"},{data:"actions"}],columnDefs:[{targets:2,orderable:!1,bSearchable:!1}],order:[[0,"desc"]]})})},refund:function(){a("#dataTables-refund").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"created_at"},{data:"name"},{data:"cost_refund"},{data:"actions"}],columnDefs:[{targets:[2,3],orderable:!1,bSearchable:!1}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#dataTables-refund").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"created_at"},{data:"name"},{data:"cost_refund"},{data:"actions"}],columnDefs:[{targets:[2,3],orderable:!1,bSearchable:!1}],order:[[0,"desc"]]})})},pettyCash:function(){a("#table-petty-cash").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"date"},{data:"name"},{data:"gename"},{data:"description"},{data:"amount"}],columnDefs:[{targets:3,orderable:!1,bSearchable:!1,"class":"center-tr"}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-petty-cash").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"date"},{data:"name"},{data:"gename"},{data:"description"},{data:"amount"}],columnDefs:[{targets:3,orderable:!1,bSearchable:!1,"class":"center-tr"}],order:[[0,"desc"]]});a("#export_pdf").show()}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},sidedish:function(){a("#table-side-dish").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"sdname"},{data:"sdprice"},{data:"bmname"},{data:"blreceipt"}],columnDefs:[{targets:3,orderable:!1,bSearchable:!1,"class":"center-tr"}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-side-dish").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"sdname"},{data:"sdprice"},{data:"bmname"},{data:"blreceipt"}],columnDefs:[{targets:3,orderable:!1,bSearchable:!1,"class":"center-tr"}],order:[[0,"desc"]]});a("#export_pdf").show()}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},inventoryAdjustment:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_inventory_adjustment",data:{outlet_id:a("#formFilter #outlet_id").val(),store_id:a("#formFilter #store_id").val(),date:a("#formFilter #input_date input").val()}});c.done(function(b){a("#report_content").html(b)})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},salesOutletUI:function(){a("#table-sales-menu").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"outlet_name"},{data:"total_quantity"},{data:"total_price"}],columnDefs:[{}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-sales-menu").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),App.detailTransaction(b.data),b.data}},columns:[{data:"outlet_name"},{data:"total_quantity"},{data:"total_price"}],columnDefs:[{}],order:[[0,"desc"]]});a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})})},transferMenu:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_transfer_menu",data:{date:a("#formFilter #input_date input").val(),report_end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},transferinventory:function(){a("#filter_submit").on("click",function(b){if(a("#store_id_start").val()==a("#store_id_end").val())return App.alert("Please do not choose the same Store"),!1;if(a("#outlet_id_start").val()==a("#outlet_id_end").val())return App.alert("Please do not choose the same Outlet"),!1;a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_transfer_inventory",data:{start_date:a("#formFilter #start_date input").val(),end_date:a("#formFilter #end_date input").val(),store_id_start:a("#store_id_start ").val(),store_id_end:a("#store_id_end ").val(),outlet_id_start:a("#outlet_id_start ").val(),outlet_id_end:a("#outlet_id_end ").val(),inventory_id:a("#inventory_id ").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},inventoryStockReportUI:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_inventory_stock_data",data:{store_id:a("#formFilter #store_id").val(),date:a("#formFilter #input_date input").val(),report_end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},totalSalesWaiterUI:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_total_sales_waiter",data:{user_id:a("#formFilter #user_id").val(),date:a("#formFilter #input_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},kitchenDurationUI:function(){a("#month_year").datetimepicker({sideBySide:!0,useCurrent:!0,format:"M-YYYY"}),a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_kitchen_duration",data:{month_year:a("#formFilter #month_year").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},achievementWaiter:function(){a("#month_year").datetimepicker({sideBySide:!0,useCurrent:!0,format:"M-YYYY"}),a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_achievement_waiter",data:{user_id:a("#formFilter #user_id").val(),month_year:a("#formFilter #month_year").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},achievementWaiterDetail:function(){a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},totalSalesWaiterDetailUI:function(){a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},totalQtyOrderTableWaiter:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_total_quantity_order_table_waiter",data:{user_id:a("#formFilter #user_id").val(),date:a("#formFilter #input_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},moneyFormat:function(a,b){return b+" "+a.toFixed(0).replace(/./g,function(a,b,c){return b>0&&","!==a&&(c.length-b)%3===0?"."+a:a})},voidUI:function(){a("#table-void").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),App.detailVoid(b.data),b.data}},columns:[{data:"created_at"},{data:"menu_name"},{data:"amount"},{data:"void_note"},{data:"name"},{data:"user_unlock_name"},{data:"is_deduct_stock"},{data:"cost_void"}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-void").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),App.detailVoid(b.data),b.data}},columns:[{data:"created_at"},{data:"menu_name"},{data:"amount"},{data:"void_note"},{data:"name"},{data:"user_unlock_name"},{data:"is_deduct_stock"},{data:"cost_void"
}],order:[[0,"desc"]]})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},profitLossUI:function(){var b=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_report_profit_lose",data:{start_date:a("#input_start_date").val(),end_date:a("#input_end_date").val()}});b.done(function(b){a("#report_content").html(b)}),a("#filter_submit").on("click",function(b){b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_report_profit_lose",data:{start_date:a("#input_start_date").val(),end_date:a("#input_end_date").val()}});c.done(function(b){a("#report_content").html(b)})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},salesMenuDetail:function(){a("#table-sales-menu-detail").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,bFilter:!1,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#data_sales_menu_detail").val(),type:"POST",data:function(b,c,d){return a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"created_at"},{data:"receipt_number"},{data:"quantity"},{data:"price"},{data:"cogs"},{data:"profit"}],order:[[0,"desc"]]})},salesMenuUI:function(){a("#table-sales-menu").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"category_name"},{data:"menu_name"},{data:"total_quantity"},{data:"total_price"},{data:"actions"}],columnDefs:[{targets:4,orderable:!1}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-sales-menu").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"category_name"},{data:"menu_name"},{data:"total_quantity"},{data:"total_price"},{data:"actions"}],columnDefs:[{targets:4,orderable:!1}],order:[[0,"desc"]]})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},salesMovingItem:function(){a("#table-moving-item").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!0,scrollX:!0,iDisplayLength:10,ajax:{url:a("#dataProcessUrlMoving").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"menu_name"},{data:"harga_menu"},{data:"harga_hpp"},{data:"qty_reguler",defaultContent:0},{data:"qty_compliment",defaultContent:0},{data:"total_quantity"},{data:"total_reguler"},{data:"total_compliment",defaultContent:0},{data:"actions"}],columnDefs:[{targets:8,orderable:!1},{targets:[1,2,3,4,5,6,7,8],bSearchable:!1},{render:function(a,b,c){return a?App.moneyFormat(parseInt(a),"Rp."):0},targets:[6,7]},{targets:[3,4,5],"class":"center-tr"}],order:[[1,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-moving-item").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,bFilter:!0,scrollX:!0,iDisplayLength:10,ajax:{url:a("#dataProcessUrlMoving").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return App.detailTransaction(a.data),a.data}},columns:[{data:"menu_name"},{data:"harga_menu"},{data:"harga_hpp"},{data:"qty_reguler",defaultContent:0},{data:"qty_compliment",defaultContent:0},{data:"total_quantity"},{data:"total_reguler"},{data:"total_compliment",defaultContent:0},{data:"actions"}],columnDefs:[{targets:8,orderable:!1},{targets:[1,2,3,4,5,6,7,8],bSearchable:!1},{render:function(a,b,c){return a?App.moneyFormat(parseInt(a),"Rp."):0},targets:[6,7]},{targets:[3,4,5],"class":"center-tr"}],order:[[1,"desc"]]})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},salesCategoryUI:function(){a("#table-sales-category").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(a){return a.data}},columns:[{data:"outlet_name"},{data:"category_name"},{data:"total_quantity"},{data:"total_price"}],order:[[0,"asc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-sales-category").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),b.data}},columns:[{data:"outlet_name"},{data:"category_name"},{data:"total_quantity"},{data:"total_price"}],order:[[0,"asc"]]});a("#export_pdf").show(),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})})},openCloseUI:function(){a("#table-open-close").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bFilter:!1,bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),App.detailTransaction(b.data),b.data}},columns:[{data:"open_at"},{data:"open_by_user"},{data:"close_at"},{data:"close_by_user"},{data:"total_transaction"},{data:"total_cash"},{data:"actions"}],order:[[0,"desc"]]});a("#filter_submit").on("click",function(b){b.preventDefault();a("#table-open-close").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bFilter:!1,bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()},dataSrc:function(b){return a("#export_pdf").show(),App.detailTransaction(b.data),b.data}},columns:[{data:"open_at"},{data:"open_by_user"},{data:"close_at"},{data:"close_by_user"},{data:"total_transaction"},{data:"total_cash"},{data:"actions"}],order:[[0,"desc"]]});a(document).off("click").on("click",".print_open_close_cashier",function(b){return url=a(this).attr("href"),a.ajax({url:url}),!1})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},getSummaryTransaction:function(){a(".loading-summary").show(),data=a("#formFilter").serialize(),url=App.baseUrl+"admincms/reports/get_summary_transaction",a.ajax({url:url,type:"POST",dataType:"JSON",data:data,success:function(b){a("#summary-tab").html(b.content),a(".loading-summary").hide()}})},transactionUI:function(){a(".loading-summary").show(),App.getSummaryTransaction();a("#table-transaction").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bFilter:!1,bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"payment_date"},{data:"receipt_number"},{data:"order_type"},{data:"total_price_rp"},{data:"customer_count"},{data:"order_id"},{data:"actions"}],columnDefs:[{targets:6,orderable:!1}],order:[[0,"desc"]]});a("#reprint_billing_filter_submit").on("click",function(b){a("#formFilter").removeAttr("action"),a("#formFilter").removeAttr("target")}),a("#reprint_billing_export_pdf").on("click",function(b){a("#formFilter").attr("action",App.baseUrl+"admincms/reprint_billings/export_to_pdf"),a("#formFilter").attr("target","_blank")}),a("#filter_submit").on("click",function(b){a(".loading-summary").show(),b.preventDefault(),App.getSummaryTransaction();a("#table-transaction").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",bFilter:!1,bDestroy:!0,autoWidth:!1,iDisplayLength:10,ajax:{url:a("#dataProcessUrl").val(),type:"POST",data:{param:a("#formFilter").serialize()}},columns:[{data:"payment_date"},{data:"receipt_number"},{data:"order_type"},{data:"total_price_rp"},{data:"customer_count"},{data:"order_id"},{data:"actions"}],columnDefs:[{targets:6,orderable:!1}],order:[[0,"desc"]]})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},transactionDetailUI:function(){a("#table-transaction-order").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_order").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"menu_name"},{data:"quantity"},{data:"cogs"},{data:"price"},{data:"subtotal"}],order:[[0,"desc"]]}),a("#table-transaction-sidedish").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_sidedish").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"sdname"},{data:"sdprice"}],order:[[0,"desc"]]}),a("#table-transaction-minus").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_minus").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"info"},{data:"amount"}],order:[[0,"desc"]]}),a("#table-transaction-plus").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_plus").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"info"},{data:"amount"}],order:[[0,"desc"]]}),a("#table-transaction-minus").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_minus").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"info"},{data:"amount"}],order:[[0,"desc"]]}),a("#table-transaction-payment").dataTable({bProcessing:!0,bServerSide:!0,sServerMethod:"POST",ajax:a("#data_transaction_payment").val(),bDestroy:!0,autoWidth:!1,iDisplayLength:5,bFilter:!1,columns:[{data:"payment_option"},{data:"amount"}],order:[[0,"desc"]]})},detailTransaction:function(b){var c=0,d=0,e=0,f="",g=0;if(b.length>0){var h=a(b).get(0);g=parseInt(h.sum_total_quantity),c+=parseInt(h.sum_total_price),d+=null==h.sum_total_cogs?0:parseInt(h.sum_total_cogs),e+=null==h.sum_profit?0:parseInt(h.sum_profit),f=h.periode,a("#quantity").text(g),a("#periode").text(f),a("#total_price").text("Rp "+App.addCommas(c)),a("#total_cogs").text("Rp "+App.addCommas(d)),a("#total_profit").text("Rp "+App.addCommas(e)),a("#total_quantity").text(parseInt(h.total_quantity_order)),a("#total_customer").text(h.total_customer_count),a("#total_transaction").text(h.total_transaction),a("#total_petty_cash").text("Rp "+App.addCommas(h.total_petty_cash)),a("#total_courier_service").text("Rp "+App.addCommas(h.total_courier_service)),a("#total_discount").text("Rp "+App.addCommas(h.total_discount)),a("#total_dp").text("Rp "+App.addCommas(h.total_dp)),a("#dinein_count").text(App.addCommas(h.total_count_dinein)),a("#dinein_total").text("Rp "+App.addCommas(h.total_dinein)),a("#takeaway_count").text(App.addCommas(h.total_count_takeaway)),a("#takeaway_total").text("Rp "+App.addCommas(h.total_takeaway)),a("#delivery_count").text(App.addCommas(h.total_count_delivery)),a("#delivery_total").text("Rp "+App.addCommas(h.total_delivery)),a("#promo_count").text("Rp "+App.addCommas(h.total_count_promo)),a("#promo_total").text("Rp "+App.addCommas(h.total_promo,0)),a("#voucher_count").text("Rp "+App.addCommas(h.total_count_voucher,0)),a("#voucher_total").text("Rp "+App.addCommas(h.total_voucher,0))}else a("#periode").text(""),a("#total_price").text(""),a("#total_cogs").text(""),a("#total_profit").text(""),a("#quantity").text(""),a("#total_quantity").text(""),a("#total_customer").text(""),a("#total_transaction").text(""),a("#total_petty_cash").text(""),a("#total_courier_service").text(""),a("#total_discount").text(""),a("#total_dp").text(""),a("#dinein_count").text("Rp "+App.addCommas("")),a("#dinein_total").text("Rp "+App.addCommas("")),a("#takeaway_count").text("Rp "+App.addCommas("")),a("#takeaway_total").text("Rp "+App.addCommas("")),a("#delivery_count").text("Rp "+App.addCommas("")),a("#delivery_total").text("Rp "+App.addCommas("")),a("#promo_count").text("Rp "+App.addCommas("")),a("#promo_total").text("Rp "+App.addCommas("")),a("#voucher_count").text("Rp "+App.addCommas("")),a("#voucher_total").text("Rp "+App.addCommas(""))},detailVoid:function(b){b.length>0?(a("#total_amount").text(a(b).get(0).total_amount),a("#periode").text(a(b).get(0).periode)):(a("#periode").text(""),a("#total_amount").text(""))},kontraBon:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_data_kontra_bon",data:{supplier_id:a("#formFilter #supplier_id").val(),start_date:a("#formFilter #start_date input").val(),end_date:a("#formFilter #end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_to_pdf")})},addCommas:function(a){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var b=/(\d+)(\d{3})/;b.test(x1);)x1=x1.replace(b,"$1.$2");return x1+x2},add_option:function(a,b){},buttonSubmitEvent:function(){},uniqueArray:function(a){for(var b=[],c=a,d=c.length;d--;){var e=c[d];-1===b.indexOf(e)&&b.unshift(e)}return b},captureImage:function(b,c){svgElements=a(b).find("svg"),svgElements.each(function(){var b,c;a.each(a(this).find("[style*=em]"),function(b,c){a(this).css("font-size",getStyle(c,"font-size"))}),b=document.createElement("canvas"),b.className="screenShotTempCanvas",c=(new XMLSerializer).serializeToString(this),c=c.replace(/xmlns=\"http:\/\/www\.w3\.org\/2000\/svg\"/,""),canvg(b,c),a(b).insertAfter(this),a(this).attr("class","tempHide"),a(this).hide()}),html2canvas(a(b),{onrendered:function(d){imgData=d.toDataURL("image/png"),App.captureImageData=imgData,a(c).val(imgData),a(b).find("svg").show()}})},memberDiscountDetail:function(){a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_member_discount_detail",data:{start_date:a("#formFilter #input_date input").val(),end_date:a("#formFilter #report_end_date input").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})},deliveryService:function(){a("#start_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#end_period").datetimepicker({sideBySide:!0,useCurrent:!0,format:"YYYY-MM-DD"}),a("#filter_submit").on("click",function(b){a("#report_content").html(""),b.preventDefault();var c=a.ajax({type:"POST",url:App.adminUrl+"/reports/get_data_delivery_service",data:{start_date:a("#formFilter #input_start_date").val(),end_date:a("#formFilter #input_end_date").val()}});c.done(function(b){a("#report_content").html(b),a("#export_pdf").show()})}),a("#export_pdf").unbind("click").bind("click",function(b){a("#formFilter").attr("action",App.adminUrl+"/reports/export_report_to_pdf")})}}});